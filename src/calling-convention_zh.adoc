[appendix]
== 向量状态的调用约定（非权威 - 仅占位符）

NOTE: 本附录仅作为占位符，以帮助解释代码示例中使用的约定，不被视为冻结或标准化过程的一部分。官方 RISC-V psABI 文档正在扩展，以指定向量调用约定。

在 RISC-V psABI 中，向量寄存器 `v0`-`v31` 全部由调用者保存。`vl` 和 `vtype` CSR 也由调用者保存。

过程可以假设 `vstart` 在进入时为零。过程可以假设 `vstart` 在从过程调用返回时为零。

注意：应用软件通常不应显式写入 `vstart`。任何显式将 `vstart` 写为非零值的过程必须在返回或调用另一个过程之前将 `vstart` 置零。

`vcsr` 的 `vxrm` 和 `vxsat` 字段具有线程存储持续时间。

执行系统调用会导致所有由调用者保存的向量寄存器（`v0`-`v31`、`vl`、`vtype`）和 `vstart` 变为未指定状态。

NOTE: 此方案允许导致上下文切换的系统调用避免保存和稍后恢复向量寄存器。

NOTE: 大多数操作系统将选择要么保持这些寄存器不变，要么将它们重置为初始状态，以避免跨进程边界泄漏信息。
